doctype html
html(lang='pt')
    include common/header
    +head("Carris UI")
    body(style="height: 100vh; width: 100%;")
        include common/navbar
        div(class="container" style="margin-top:30px; height: 100vh; width: 100%;")
            div(id='mapa' style='height: 100vh; width: 100%;')
            if rota
                script.
                    let mapa = L.map('mapa').setView([`#{gps.lat}`, `#{gps.lon}`], 13);
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(mapa);
                    let coordenadas = [];
                    let icon_andar = L.icon({
                       iconUrl: 'images/andar.png'
                    });
                each legs in rota
                    //p Tarifa: #{legs.fare}
                    each step in legs.leg.bigSteps
                        each point in step.points
                            script.
                                console.log('TESTE');
                                coordenadas.push([`#{point.lat}`, `#{point.lng}`])
                                L.marker([`#{point.lat}`, `#{point.lng}`], {icon: icon_andar}).addTo(mapa);

            else
                swal('Erro a processar rota!', 'error')